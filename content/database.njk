---
layout: layouts/base.njk
title: Database
---

<h1>MongoDB with Netlify functions</h1>
<ul id="movies"></ul>

<script>
    (async () => {
        try {
            let results = await fetch("/.netlify/functions/get_movies").then(response => response.json());
            results.forEach(result => {
                const listItem = document.createElement("li");
                listItem.innerText = result.title;
                document.getElementById("movies").appendChild(listItem);
            });
        } catch (error) {
            console.error(error);
        }
    })();
</script>